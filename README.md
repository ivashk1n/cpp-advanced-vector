# advanced vector (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è std::vector)

## –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `Vector`, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ `std::vector`, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—ã—Ä–æ–π –ø–∞–º—è—Ç—å—é —á–µ—Ä–µ–∑ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å `RawMemory`;
- –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤;
- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∏ –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏;
- –≤—Å—Ç–∞–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö;
- –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ (`begin`, `end`, `cbegin`, `cend`).

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –∏ —Ä–∞–±–æ—Ç—É —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ —á–µ—Ä–µ–∑ **placement new**, **move semantics** –∏ **RAII**.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### `RawMemory<T>`
–ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—ã—Ä–æ–π –ø–∞–º—è—Ç—å—é:
- –≤—ã–¥–µ–ª—è–µ—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –±—É—Ñ–µ—Ä –ø–æ–¥ `T`;
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –ø–æ –∏–Ω–¥–µ–∫—Å—É;
- —É–º–µ–µ—Ç –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è (`move`) –∏ –º–µ–Ω—è—Ç—å—Å—è –º–µ—Å—Ç–∞–º–∏ (`Swap`).

### `Vector<T>`
–®–∞–±–ª–æ–Ω–Ω—ã–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏:
- `PushBack`, `EmplaceBack` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω–µ—Ü;
- `Insert`, `Emplace` ‚Äî –≤—Å—Ç–∞–≤–∫–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ;
- `Erase` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞;
- `Resize`, `Reserve` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–º –∏ –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é;
- `Swap` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–¥–µ—Ä–∂–∏–º—ã–º;
- –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è.

---

## –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π
- –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É (operator[]) ‚Äî O(1).
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü (PushBack, EmplaceBack) ‚Äî –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ O(1).
- –í—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ (Insert, Erase) ‚Äî O(N).
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (Resize) ‚Äî O(N) –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ.
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (Reserve) ‚Äî O(N).

---

##–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã C++: operator new, std::destroy_n, std::uninitialized_copy_n, std::uninitialized_move_n.
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—ã–±—Ä–æ—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π (commit-or-rollback).
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ move-—Å–µ–º–∞–Ω—Ç–∏–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
- –ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–æ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É std::vector.



## üñ• –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```cpp
#include <iostream>
#include "advance_vector.txt" // –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º

int main() {
    Vector<int> v;

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    v.PushBack(10);
    v.PushBack(20);
    v.EmplaceBack(30);

    std::cout << "Vector —Å–æ–¥–µ—Ä–∂–∏—Ç: ";
    for (int x : v) {
        std::cout << x << " ";
    }
    std::cout << "\n–†–∞–∑–º–µ—Ä: " << v.Size() 
              << " –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: " << v.Capacity() << std::endl;

    // –í—Å—Ç–∞–≤–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É
    v.Insert(v.begin() + 1, 15);

    std::cout << "–ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏: ";
    for (int x : v) {
        std::cout << x << " ";
    }
    std::cout << std::endl;

    // –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
    v.Erase(v.begin() + 2);

    std::cout << "–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è: ";
    for (int x : v) {
        std::cout << x << " ";
    }
    std::cout << std::endl;

    return 0;
}
